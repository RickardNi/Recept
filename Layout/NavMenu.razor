<header class="site-header" role="banner">
    <div class="wrapper">
        <a class="site-title" rel="author" href="./">Recept</a>

        <nav class="site-nav @(isMenuOpen ? "menu-open" : string.Empty)">
            <button type="button"
                    class="nav-toggle"
                    aria-expanded="@isMenuOpen"
                    aria-controls="site-nav-trigger"
                    aria-label="Öppna meny"
                    @onclick="ToggleMenu">
                <span class="menu-icon" aria-hidden="true">
                    @((MarkupString)IconCatalog.Icons["UiMenu"])
                </span>
            </button>

            @if (isMenuOpen)
            {
                <button type="button" class="menu-backdrop" aria-label="Stäng meny" @onclick="CloseMenu"></button>
            }

            <div id="site-nav-trigger" class="trigger @(isMenuOpen ? "is-open" : string.Empty)">
                <form class="nav-search-form" action="search" method="get" role="search" @onsubmit="CloseMenu">
                    <input class="nav-search-input" type="search" name="query" placeholder="Sök recept..." aria-label="Sök recept" />
                    <button class="nav-search-submit" type="submit" aria-label="Sök">
                        @((MarkupString)IconCatalog.Icons["UiSearch"])
                    </button>
                </form>
                <a class="page-link" href="recipes" @onclick="CloseMenu">Alla recept</a>
                <a class="page-link" href="recipes/favorites" @onclick="CloseMenu">Favoriter</a>
                <a class="page-link" href="categories" @onclick="CloseMenu">Kategorier</a>
                <a class="page-link" href="ingredients" @onclick="CloseMenu">Ingredienser</a>
            </div>
        </nav>
    </div>
</header>

@code {
    private bool isMenuOpen;

    private void ToggleMenu()
    {
        isMenuOpen = !isMenuOpen;
    }

    private void CloseMenu()
    {
        isMenuOpen = false;
    }
}
